# Production research output template (story-first + scene_id mapping)
#
# 目的:
# - 調査は「増やせるのはここだけ」なので、後段で削れるだけの量を出す。
# - story/script/scene制作が“迷わず”着手できる材料（ストーリー骨格・根拠・scene配賦）を揃える。
#
# 注意:
# - ここはコードで強制されない（運用テンプレ）。
# - 出典が不十分な項目は "unverified" を明記し、後で検証できる形で残す。
topic: "string"
aliases: ["string"]

# === 0) Story-first baseline（最優先・必須） ===
story_baseline:
  canonical_synopsis:
    one_liner: "string"
    short_summary: "string"  # 5-10行
    beat_sheet:
      - beat: "string"       # 20-40個（最低20推奨）
        scene_ids: [1]       # scene_plan へ配賦したID
        confidence: 0.0
        sources: ["string"]  # source_id or URL
  characters:
    protagonist: "string"
    key_allies: ["string"]
    key_antagonists: ["string"]
    core_goal: "string"
    stakes: "string"
    setting: "string"
  themes:
    - theme: "string"
      why_it_matters: "string"
      scene_ids: [1]
  tone_and_genre:
    genre: "string"
    tone: "string"
    audience: "string"

# === 1) Scene plan（必須: scene_id を保持） ===
scene_plan:
  min_scene_count: 20
  scenes:
    - scene_id: 1
      role: "opening|development|turn|climax|ending"
      beat_summary: "string"      # 1-2行
      desired_emotion: "string"   # wonder/tension/relief...
      key_visuals: ["string"]     # 舞台装置/象徴
      key_dialogue_or_voiceover: "string"
      continuity_requirements:
        from_prev: "string"
        to_next: "string"

# === 2) Hero-story validation（必須） ===
hero_story_validation:
  hero_journey_fit:
    fit: "high|medium|low"
    rationale: "string"
    missing_or_weak_beats: ["string"]
  narrative_arc:
    inciting_incident: "string"
    midpoint: "string"
    climax: "string"
    resolution: "string"

# === 3) Issue tree（調査の設計） ===
issue_tree:
  root_question: "string"
  branches:
    - issue: "string"
      type: "what|why|how"
      status: "not_started|in_progress|answered|blocked"
      answer: "string"
      confidence: 0.0
      scene_ids: [1]
      evidence:
        - claim: "string"
          sources: ["string"]  # source_id or URL
          quote: "string"      # 重要箇所の短い抜粋（短文）
          supports: true

# === 4) Sources（必須: 出典の棚卸し） ===
sources:
  - source_id: "S1"
    title: "string"
    url: "string"
    type: "primary|academic|encyclopedia|news|blog|video|other"
    reliability: "high|medium|low"
    accessed_at: "ISO8601"
    notes: "string"

# === 5) Primary sources / variants（可能なら厚めに） ===
primary_sources:
  - edition_id: "P1"
    title: "string"
    url: "string"
    extracted_summary: "string"
    key_passages:
      - passage: "string"
        scene_ids: [1]
        source_id: "S1"
    variants_notes: "string"

variants:
  - variant_id: "V1"
    name: "string"
    differences: ["string"]
    impact_on_story: "string"
    scene_ids: [1]
    sources: ["string"]

# === 6) Facts & claims（映像/台本に使える粒度） ===
facts:
  items:
    - fact_id: "F1"
      claim: "string"
      kind: "plot|character|setting|theme|symbol|historical_context|interpretation|other"
      scene_ids: [1]
      confidence: 0.0
      verification: "verified|partially_verified|unverified"
      sources: ["string"]
      notes: "string"

# === 7) Engagement / hooks（scene配賦付き） ===
engagement:
  hooks:
    - hook_id: "H1"
      type: "mystery|counterintuitive|hidden_truth|emotional|connection|controversy"
      content: "string"
      curiosity_score: 0.0
      scene_ids: [1]
      supporting_facts: ["F1"]
  tension_points:
    - tension_id: "T1"
      topic: "string"
      positions: ["string"]
      narrative_potential: "string"
      scene_ids: [1]
      sources: ["string"]
  open_questions:
    - question_id: "Q1"
      question: "string"
      known_theories: ["string"]
      investigation_status: "unverified|in_progress|verified"
      scene_ids: [1]
      sources: ["string"]

# === 8) Synthesis（So what / governing thought） ===
synthesis:
  governing_thought: "string"
  scqa:
    situation: "string"
    complication: "string"
    question: "string"
    answer: "string"
  insight_groups:
    - group_theme: "string"
      synthesized_insight: "string"
      supporting_items: ["F1", "H1"]
      scene_ids: [1]

# === 9) Production notes（映像化の注意点） ===
production_notes:
  do:
    - "string"
  dont:
    - "string"
  policy_risks:
    - risk: "string"
      mitigation: "string"

metadata:
  collected_at: "ISO8601"
  sources_used: ["S1"]
  confidence_score: 0.0
  completeness_score: 0.0
  engagement_score: 0.0
  hypothesis_validation_rate: 0.0

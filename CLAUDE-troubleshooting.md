# CLAUDE - Troubleshooting Guide

**最終更新**: 2026-01-05
**プロジェクト**: TikTok Story Creator (ToC)

このファイルは、プロジェクトで発生した問題とその解決策を記録します。

---

## 📋 トラブルシューティング形式

各問題は以下の形式で記録：

- **問題**: 何が起きたか（エラーメッセージ、症状）
- **環境**: OS、Pythonバージョン、依存ライブラリバージョン等
- **原因**: 根本原因
- **解決策**: 具体的な修正手順
- **予防策**: 再発防止のための対策
- **関連**: 関連するADRやPatternへのリンク

---

## 目次

- [開発環境](#開発環境)
- [データベース](#データベース)
- [AI API統合](#ai-api統合)
- [動画生成](#動画生成)
- [Docker](#docker)
- [依存関係](#依存関係)

---

## 開発環境

### Issue 001: (プレースホルダー)

*このセクションには、将来的に発生した開発環境関連の問題を記録します。*

---

## データベース

### Issue 100: (プレースホルダー)

*このセクションには、将来的に発生したデータベース関連の問題を記録します。*

**よくある問題（予想）**:
- PostgreSQL接続エラー
- マイグレーション失敗
- UUID生成エラー

---

## AI API統合

### Issue 200: (プレースホルダー)

*このセクションには、将来的に発生したAI API関連の問題を記録します。*

**よくある問題（予想）**:
- APIキー認証エラー
- レート制限超過
- タイムアウト
- プロバイダー切替失敗

---

## 動画生成

### Issue 300: (プレースホルダー)

*このセクションには、将来的に発生した動画生成関連の問題を記録します。*

**よくある問題（予想）**:
- FFmpegコマンドエラー
- アスペクト比が正しくない
- 音声同期ずれ
- ファイルサイズ超過

---

## Docker

### Issue 400: (プレースホルダー)

*このセクションには、将来的に発生したDocker関連の問題を記録します。*

**よくある問題（予想）**:
- コンテナ起動失敗
- ボリュームマウントエラー
- ネットワーク接続問題

---

## 依存関係

### Issue 500: (プレースホルダー)

*このセクションには、将来的に発生した依存関係関連の問題を記録します。*

**よくある問題（予想）**:
- パッケージバージョン競合
- ライブラリインポートエラー
- 互換性問題

---

## 🔍 問題報告テンプレート

新しい問題を記録する際は、以下のテンプレートを使用してください：

```markdown
### Issue XXX: [問題の簡潔な説明]

**日付**: YYYY-MM-DD
**報告者**: [名前]
**重大度**: Critical | High | Medium | Low

#### 問題

[エラーメッセージや症状を詳細に記載]

#### 環境

- OS: [macOS 14.0 / Ubuntu 22.04 / Windows 11等]
- Python: [3.11.5等]
- Docker: [24.0.0等]
- 依存ライブラリ: [sqlalchemy==2.0.0等]

#### 再現手順

1. [手順1]
2. [手順2]
3. [エラー発生]

#### 原因

[根本原因の説明]

#### 解決策

[具体的な修正手順]

\`\`\`python
# コード例
\`\`\`

または

\`\`\`bash
# コマンド例
\`\`\`

#### 予防策

[再発防止のための対策]

#### 関連

- ADR: [関連するADR番号]
- Pattern: [関連するPattern番号]
- 参考リンク: [外部リソース]
```

---

## 📚 関連ドキュメント

- **CLAUDE-patterns.md** - コードパターンと規約
- **CLAUDE-decisions.md** - アーキテクチャ決定記録
- **CLAUDE-activeContext.md** - 現在のプロジェクト状態
- **DATABASE_DESIGN.md** - データベース設計

---

## 📝 注意事項

- 問題が解決したら、必ずこのファイルに記録すること
- Issue番号は各カテゴリーごとに100番台で区切る
  - 001-099: 開発環境
  - 100-199: データベース
  - 200-299: AI API統合
  - 300-399: 動画生成
  - 400-499: Docker
  - 500-599: 依存関係
- 重大度は必ず記載すること（Critical: システム停止、High: 機能停止、Medium: 一部機能に影響、Low: 軽微な問題）
